<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ListingsMap - Usage Guide</title>
  <style>
    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      color: #222;
      background: #fff;
    }
    a { color: inherit; }

    /* Layout */
    .page { display: flex; min-height: 100vh; }
    .sidebar {
      position: sticky; top: 0; height: 100vh; width: 220px; flex-shrink: 0;
      border-right: 1px solid #eee; padding: 32px 0; overflow-y: auto; background: #fafafa;
    }
    .sidebar-brand { padding: 0 20px; margin-bottom: 24px; }
    .sidebar-brand a { text-decoration: none; color: #222; font-size: 15px; font-weight: 700; letter-spacing: -0.3px; }
    .sidebar-version { font-size: 11px; color: #999; margin-top: 2px; }
    .sidebar-nav { display: flex; flex-direction: column; gap: 1px; }
    .sidebar-nav a {
      padding: 7px 20px; font-size: 13px; color: #555; text-decoration: none;
      border-left: 2px solid transparent; transition: background 0.1s, color 0.1s;
    }
    .sidebar-nav a:hover { background: #f0f0f0; color: #222; border-left-color: #ddd; }
    .sidebar-downloads { padding: 24px 20px 0; border-top: 1px solid #eee; margin-top: 24px; }
    .sidebar-downloads a {
      display: block; text-align: center; padding: 8px 16px; border-radius: 8px;
      text-decoration: none; font-size: 13px; font-weight: 600; margin-bottom: 8px;
    }
    .btn-primary { background: #222; color: #fff; }
    .btn-secondary { background: #fff; color: #222; border: 1px solid #ddd; }

    .content { flex: 1; max-width: 740px; padding: 48px 48px 100px; }

    /* Typography */
    .back-link { font-size: 13px; color: #717171; text-decoration: none; display: inline-flex; align-items: center; gap: 4px; margin-bottom: 8px; }
    h1 { font-size: 36px; font-weight: 800; letter-spacing: -1px; line-height: 1.15; color: #111; }
    .subtitle { font-size: 17px; color: #717171; margin-top: 12px; line-height: 1.6; max-width: 560px; }
    h2 { font-size: 22px; font-weight: 700; letter-spacing: -0.3px; margin-top: 56px; margin-bottom: 12px; scroll-margin-top: 80px; color: #111; }
    h3 { font-size: 16px; font-weight: 600; margin-top: 32px; color: #222; }
    p { color: #555; line-height: 1.7; font-size: 15px; }
    hr { border: none; border-top: 1px solid #eee; margin: 48px 0 0; }
    code {  padding: 2px 6px; border-radius: 4px; font-size: 13px; }

    /* Code blocks */
    .code-block { position: relative; background: #1a1a1a; border-radius: 12px; overflow: hidden; margin-top: 16px; }
    .code-block-header {
      display: flex; align-items: center; justify-content: space-between;
      padding: 10px 16px; border-bottom: 1px solid #2a2a2a; font-size: 12px; color: #888; font-family: monospace;
    }
    .code-block pre {
      padding: 16px 20px; overflow: auto; font-size: 13px; line-height: 1.7;
      color: #e0e0e0; margin: 0; font-family: 'SF Mono', 'Fira Code', 'Fira Mono', 'Roboto Mono', monospace;
    }

    /* Tables */
    .table-wrap { border: 1px solid #eee; border-radius: 12px; overflow: hidden; margin-top: 16px; }
    table { width: 100%; font-size: 13px; border-collapse: collapse; }
    thead tr { background: #fafafa; }
    th { padding: 10px 16px; text-align: left; font-weight: 600; border-bottom: 1px solid #eee; color: #222; }
    td { padding: 9px 16px; }
    td.mono { font-family: monospace; font-weight: 500; color: #222; }
    td.mono-sm { font-family: monospace; font-size: 12px; color: #717171; }
    tr + tr { border-top: 1px solid #f5f5f5; }

    /* Badges */
    .badge { display: inline-block; font-size: 11px; font-weight: 600; padding: 2px 7px; border-radius: 4px; vertical-align: middle; margin-left: 6px; }
    .badge-required { background: #222; color: #fff; }
    .badge-default { background: #f0f0f0; color: #555; }

    /* Cards */
    .card { background: #f7f7f7; border: 1px solid #eee; border-radius: 12px; padding: 20px; margin-top: 16px; }
    .card h3 { font-family: monospace; font-size: 15px; font-weight: 600; color: #222; margin: 0; }
    .card p { font-size: 13px; color: #717171; margin-top: 6px; line-height: 1.5; }
    .cb-card { border: 1px solid #eee; border-radius: 12px; overflow: hidden; }
    .cb-card-head { padding: 14px 18px; background: #fafafa; }
    .cb-card-head code { font-size: 14px; font-weight: 600; color: #222; background: none; padding: 0; }
    .cb-card-head p { font-size: 13px; color: #717171; margin-top: 4px; line-height: 1.5; }

    .method-card { background: #fafafa; border: 1px solid #eee; border-radius: 10px; padding: 14px 18px; }
    .method-card code { font-size: 14px; font-weight: 600; color: #222; background: none; padding: 0; }
    .method-card p { font-size: 13px; color: #717171; margin-top: 4px; line-height: 1.5; }

    /* Callouts */
    .callout { border-radius: 10px; padding: 14px 18px; margin-top: 16px; font-size: 13px; line-height: 1.6; }
    .callout-warn { background: #fffbeb; border: 1px solid #fde68a; color: #92400e; }
    .callout-info { background: #f0f7ff; border: 1px solid #c8e1ff; color: #1e40af; }

    /* Swatch */
    .swatch { display: inline-block; width: 12px; height: 12px; border-radius: 3px; border: 1px solid #ddd; vertical-align: middle; margin-right: 6px; }

    /* Grid */
    .file-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; margin-top: 16px; }
    .file-card { background: #f7f7f7; border: 1px solid #eee; border-radius: 10px; padding: 16px; }
    .file-card-name { font-size: 13px; font-weight: 600; margin-bottom: 4px; color: #222; }
    .file-card-size { font-size: 12px; color: #999; }

    /* Footer */
    .footer { margin-top: 80px; padding-top: 24px; border-top: 1px solid #eee; display: flex; justify-content: space-between; align-items: center; font-size: 13px; color: #aaa; }
    .footer a { color: #717171; text-decoration: none; }

    /* Stack */
    .stack { display: flex; flex-direction: column; }
    .stack-8 { gap: 8px; }
    .stack-12 { gap: 12px; }

    /* Responsive */
    @media (max-width: 768px) {
      .sidebar { display: none; }
      .content { padding: 24px 20px 80px; }
      .file-grid { grid-template-columns: 1fr; }
    }
  </style>
</head>
<body>
<div class="page">

  <!-- Sidebar -->
  <nav class="sidebar">
    <div class="sidebar-brand">
      <a href="index.html">ListingsMap</a>
      <div class="sidebar-version">v1.0.0</div>
    </div>
    <div class="sidebar-nav">
      <a href="#installation">Installation</a>
      <a href="#quick-start">Quick Start</a>
      <a href="#listing-schema">Listing Schema</a>
      <a href="#api">API Reference</a>
      <a href="#css-variables">CSS Variables</a>
      <a href="#callbacks">Callbacks</a>
      <a href="#search-slot">Search Slot</a>
      <a href="#wordpress">WordPress</a>
      <a href="#examples">Examples</a>
    </div>
    <div class="sidebar-downloads">
      <a href="listings-map.js" download class="btn-primary">Download JS</a>
      <a href="listings-map.css" download class="btn-secondary">Download CSS</a>
    </div>
  </nav>

  <!-- Main Content -->
  <main class="content">

    <a href="index.html" class="back-link">
      <svg width="14" height="14" viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="10 13 5 8 10 3"/></svg>
      Live Demo
    </a>
    <h1>Usage Guide</h1>
    <p class="subtitle">Everything you need to integrate the ListingsMap widget into any website. Two files, zero framework dependencies, one function call.</p>

    <!-- Installation -->
    <hr />
    <h2 id="installation">Installation</h2>
    <p>Download the two library files and include them in your project. No build step, no npm, no bundler required.</p>

    <div class="file-grid">
      <div class="file-card">
        <div class="file-card-name">listings-map.js</div>
        <div class="file-card-size">Core library (~20KB)</div>
      </div>
      <div class="file-card">
        <div class="file-card-name">listings-map.css</div>
        <div class="file-card-size">Styles (~4KB)</div>
      </div>
    </div>

    <div class="code-block">
      <div class="code-block-header"><span>html</span></div>
      <pre><code>&lt;!-- Add to your &lt;head&gt; --&gt;
&lt;link rel="stylesheet" href="path/to/listings-map.css"&gt;

&lt;!-- Add before &lt;/body&gt; --&gt;
&lt;script src="path/to/listings-map.js"&gt;&lt;/script&gt;</code></pre>
    </div>

    <div class="callout callout-warn">
      <strong>Note:</strong> Leaflet.js is loaded automatically if not already present on the page. No need to include it separately.
    </div>

    <!-- Quick Start -->
    <hr />
    <h2 id="quick-start">Quick Start</h2>
    <p>Create a container element, include the library files, and call <code>ListingsMap.init()</code> with your data.</p>

    <div class="code-block">
      <div class="code-block-header"><span>html</span></div>
      <pre><code>&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
  &lt;meta charset="UTF-8"&gt;
  &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;
  &lt;title&gt;My Listings&lt;/title&gt;
  &lt;link rel="stylesheet" href="listings-map.css"&gt;
&lt;/head&gt;
&lt;body&gt;

  &lt;div id="app" style="width: 100%; height: 100vh;"&gt;&lt;/div&gt;

  &lt;script src="listings-map.js"&gt;&lt;/script&gt;
  &lt;script&gt;
    var widget = ListingsMap.init({
      container: '#app',
      currency: '&#8369;',
      mapOptions: {
        center: [14.58, 121.05],
        zoom: 12
      },
      listings: [
        {
          id: '1',
          title: 'Apartment in Quezon City',
          subtitle: 'Condo in Cubao | Sunset &amp; City Lights',
          details: '1 bedroom &middot; 1 bed',
          dates: 'Feb 28 &ndash; Mar 5',
          price: 13689,
          pricePeriod: 'for 5 nights',
          tag: 'Free cancellation',
          rating: 5.0,
          reviewCount: 89,
          badge: 'Guest favorite',
          lat: 14.628,
          lng: 121.055,
          images: ['photo-1.jpg', 'photo-2.jpg']
        }
      ]
    });
  &lt;/script&gt;

&lt;/body&gt;
&lt;/html&gt;</code></pre>
    </div>

    <!-- Listing Schema -->
    <hr />
    <h2 id="listing-schema">Listing Object Schema</h2>
    <p style="margin-bottom:16px">Each listing in the array should be an object with the following properties.</p>

    <div class="table-wrap">
      <table>
        <thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead>
        <tbody>
          <tr><td class="mono">id <span class="badge badge-required">required</span></td><td class="mono-sm">string</td><td>Unique identifier for the listing</td></tr>
          <tr><td class="mono">title <span class="badge badge-required">required</span></td><td class="mono-sm">string</td><td>Main heading, e.g. "Apartment in Quezon City"</td></tr>
          <tr><td class="mono">subtitle</td><td class="mono-sm">string</td><td>Secondary description line</td></tr>
          <tr><td class="mono">details</td><td class="mono-sm">string</td><td>Room info, e.g. "1 bedroom &middot; 1 bed"</td></tr>
          <tr><td class="mono">dates</td><td class="mono-sm">string</td><td>Date range, e.g. "Feb 28 &ndash; Mar 5"</td></tr>
          <tr><td class="mono">price <span class="badge badge-required">required</span></td><td class="mono-sm">number</td><td>Numeric price value (formatted with currency)</td></tr>
          <tr><td class="mono">pricePeriod</td><td class="mono-sm">string</td><td>e.g. "for 5 nights", "per night"</td></tr>
          <tr><td class="mono">tag</td><td class="mono-sm">string</td><td>Bottom line tag, e.g. "Free cancellation"</td></tr>
          <tr><td class="mono">rating</td><td class="mono-sm">number</td><td>Star rating value, e.g. 4.91</td></tr>
          <tr><td class="mono">reviewCount</td><td class="mono-sm">number</td><td>Number of reviews</td></tr>
          <tr><td class="mono">badge</td><td class="mono-sm">string</td><td>"Guest favorite" or "Superhost"</td></tr>
          <tr><td class="mono">lat <span class="badge badge-required">required</span></td><td class="mono-sm">number</td><td>Latitude coordinate for map marker</td></tr>
          <tr><td class="mono">lng <span class="badge badge-required">required</span></td><td class="mono-sm">number</td><td>Longitude coordinate for map marker</td></tr>
          <tr><td class="mono">images <span class="badge badge-required">required</span></td><td class="mono-sm">string[]</td><td>Array of image URLs for the carousel</td></tr>
          <tr><td class="mono">favorited</td><td class="mono-sm">boolean</td><td>Pre-set the heart/favorite state</td></tr>
        </tbody>
      </table>
    </div>

    <!-- API Reference -->
    <hr />
    <h2 id="api">API Reference</h2>

    <div class="card">
      <h3>ListingsMap.init(config)</h3>
      <p>Creates and mounts the widget into the target container. Returns a widget instance with methods listed below.</p>
    </div>

    <div class="code-block">
      <div class="code-block-header"><span>javascript</span></div>
      <pre><code>var widget = ListingsMap.init({
  container: '#my-container',   // CSS selector or DOM element
  listings: [...],              // Array of listing objects
  currency: '&#8369;',               // Currency symbol (default: "$")
  mapOptions: {
    center: [14.58, 121.05],   // [lat, lng]
    zoom: 12                    // Initial zoom level
  },
  tileUrl: 'https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png',
  tileAttribution: '&copy; OpenStreetMap contributors',
  renderSearchSlot: function(containerEl) { /* your search UI */ },
  onFavorite: function(listing, isFavorited) { },
  onListingClick: function(listing) { },
  onMapMoveEnd: function(bounds) { }
});</code></pre>
    </div>

    <h3 style="margin-top:24px">Instance Methods</h3>
    <div class="stack stack-12" style="margin-top:12px">
      <div class="method-card">
        <code>widget.setListings(listings)</code>
        <p>Replace all listings and map markers with new data. Accepts an array of listing objects.</p>
      </div>
      <div class="method-card">
        <code>widget.panToListing(id)</code>
        <p>Pan the map to a specific listing, open its popup, and highlight the card.</p>
      </div>
      <div class="method-card">
        <code>widget.toggleMap()</code>
        <p>Toggle the map panel visibility on mobile.</p>
      </div>
      <div class="method-card">
        <code>widget.goToPage(n)</code>
        <p>Navigate to a specific page number (when pagination is enabled).</p>
      </div>
      <div class="method-card">
        <code>widget.destroy()</code>
        <p>Remove the widget, clean up the map, and release all event listeners.</p>
      </div>
    </div>

    <!-- CSS Variables -->
    <hr />
    <h2 id="css-variables">CSS Variables</h2>
    <p style="margin-bottom:8px">Override any variable on <code>.lm-widget</code> to customize the look and feel.</p>

    <div class="code-block">
      <div class="code-block-header"><span>css</span></div>
      <pre><code>.lm-widget {
  --lm-font: 'Inter', sans-serif;
  --lm-color-text: #1a1a2e;
  --lm-color-heart: #e94560;
  --lm-color-superhost-bg: #0f3460;
  --lm-radius: 16px;
  --lm-image-height: 220px;
}</code></pre>
    </div>

    <div class="table-wrap" style="margin-top:20px">
      <table>
        <thead><tr><th>Variable</th><th>Default</th><th>Description</th></tr></thead>
        <tbody>
          <tr><td class="mono-sm">--lm-font</td><td><code style="font-size:12px;color:#717171">system-ui, sans-serif</code></td><td>Font family</td></tr>
          <tr><td class="mono-sm">--lm-color-text</td><td><span class="swatch" style="background:#222222"></span><code style="font-size:12px;color:#717171">#222222</code></td><td>Primary text</td></tr>
          <tr><td class="mono-sm">--lm-color-text-secondary</td><td><span class="swatch" style="background:#717171"></span><code style="font-size:12px;color:#717171">#717171</code></td><td>Secondary text (subtitles, details)</td></tr>
          <tr><td class="mono-sm">--lm-color-border</td><td><span class="swatch" style="background:#dddddd"></span><code style="font-size:12px;color:#717171">#dddddd</code></td><td>Panel borders</td></tr>
          <tr><td class="mono-sm">--lm-color-bg</td><td><span class="swatch" style="background:#ffffff"></span><code style="font-size:12px;color:#717171">#ffffff</code></td><td>Background</td></tr>
          <tr><td class="mono-sm">--lm-color-heart</td><td><span class="swatch" style="background:#ff385c"></span><code style="font-size:12px;color:#717171">#ff385c</code></td><td>Active heart color</td></tr>
          <tr><td class="mono-sm">--lm-color-badge-bg</td><td><span class="swatch" style="background:#ffffff"></span><code style="font-size:12px;color:#717171">#ffffff</code></td><td>Guest favorite badge background</td></tr>
          <tr><td class="mono-sm">--lm-color-superhost-bg</td><td><span class="swatch" style="background:#222222"></span><code style="font-size:12px;color:#717171">#222222</code></td><td>Superhost badge background</td></tr>
          <tr><td class="mono-sm">--lm-color-price-marker-bg</td><td><span class="swatch" style="background:#ffffff"></span><code style="font-size:12px;color:#717171">#ffffff</code></td><td>Map marker pill background</td></tr>
          <tr><td class="mono-sm">--lm-color-price-marker-hover-bg</td><td><span class="swatch" style="background:#222222"></span><code style="font-size:12px;color:#717171">#222222</code></td><td>Map marker hover background</td></tr>
          <tr><td class="mono-sm">--lm-radius</td><td><code style="font-size:12px;color:#717171">12px</code></td><td>Card border radius</td></tr>
          <tr><td class="mono-sm">--lm-image-height</td><td><code style="font-size:12px;color:#717171">260px</code></td><td>Carousel image height</td></tr>
        </tbody>
      </table>
    </div>

    <!-- Callbacks -->
    <hr />
    <h2 id="callbacks">Callbacks</h2>

    <div class="stack stack-12" style="margin-top:8px">
      <div class="cb-card">
        <div class="cb-card-head">
          <code>onFavorite(listing, isFavorited)</code>
          <p>Fired when a user clicks the heart button. Use this to persist favorites to your backend.</p>
        </div>
        <div class="code-block" style="border-radius:0;margin-top:0">
          <div class="code-block-header"><span>javascript</span></div>
          <pre><code>onFavorite: function(listing, isFavorited) {
  fetch('/api/favorites', {
    method: 'POST',
    body: JSON.stringify({
      listingId: listing.id,
      favorited: isFavorited
    })
  });
}</code></pre>
        </div>
      </div>

      <div class="cb-card">
        <div class="cb-card-head">
          <code>onListingClick(listing)</code>
          <p>Fired when a user clicks on a listing card. Use this to navigate to a detail page.</p>
        </div>
        <div class="code-block" style="border-radius:0;margin-top:0">
          <div class="code-block-header"><span>javascript</span></div>
          <pre><code>onListingClick: function(listing) {
  window.location.href = '/listing/' + listing.id;
}</code></pre>
        </div>
      </div>

      <div class="cb-card">
        <div class="cb-card-head">
          <code>onMapMoveEnd(bounds)</code>
          <p>Fired when the user finishes panning/zooming the map. Use this to fetch listings within the new viewport.</p>
        </div>
        <div class="code-block" style="border-radius:0;margin-top:0">
          <div class="code-block-header"><span>javascript</span></div>
          <pre><code>onMapMoveEnd: function(bounds) {
  // bounds = { north, south, east, west, center, zoom }
  fetch('/api/listings?n=' + bounds.north + '&amp;s=' + bounds.south)
    .then(function(r) { return r.json(); })
    .then(function(data) { widget.setListings(data); });
}</code></pre>
        </div>
      </div>
    </div>

    <!-- Search Slot -->
    <hr />
    <h2 id="search-slot">Search Slot</h2>
    <p>The <code>renderSearchSlot</code> callback lets you render any search UI into the widget. You receive a container element and can fill it with anything: a custom form, a third-party search library, or even a WordPress shortcode output.</p>

    <div class="code-block">
      <div class="code-block-header"><span>javascript</span></div>
      <pre><code>ListingsMap.init({
  container: '#app',
  listings: myListings,
  renderSearchSlot: function(containerEl) {
    // Option A: Plain HTML
    containerEl.innerHTML = '&lt;input type="text" placeholder="Search..."&gt;';

    // Option B: Mount a library
    // new MySearchWidget(containerEl);

    // Option C: jQuery / shortcode output
    // $(containerEl).append($('#my-search-template').html());
  }
});</code></pre>
    </div>

    <div class="callout callout-warn">
      <strong>Tip:</strong> The container element has the CSS class <code>lm-search-slot</code> which adds 16px bottom margin by default. Override it in your stylesheet if needed.
    </div>

    <!-- WordPress -->
    <hr />
    <h2 id="wordpress">WordPress Plugin</h2>
    <p>Create a WordPress plugin in minutes. Drop the two library files into your plugin folder and use the shortcode.</p>

    <div class="callout callout-info" style="margin-top:16px">
      <strong>Plugin folder structure:</strong>
      <pre style="margin-top:8px;font-size:13px;line-height:1.6;font-family:monospace">wp-content/plugins/listings-map/
  listings-map.php       (plugin file below)
  assets/
    listings-map.js      (download above)
    listings-map.css     (download above)</pre>
    </div>

    <div class="code-block">
      <div class="code-block-header"><span>php</span></div>
      <pre><code>&lt;?php
/**
 * Plugin Name: ListingsMap Widget
 * Description: Airbnb-style property listings with interactive map
 * Version: 1.0.0
 */

// 1. Enqueue the library assets
function lm_enqueue_assets() {
    wp_enqueue_style(
        'listings-map-css',
        plugin_dir_url(__FILE__) . 'assets/listings-map.css',
        array(), '1.0.0'
    );
    wp_enqueue_script(
        'listings-map-js',
        plugin_dir_url(__FILE__) . 'assets/listings-map.js',
        array(), '1.0.0', true
    );
}
add_action('wp_enqueue_scripts', 'lm_enqueue_assets');

// 2. Register [listings_map] shortcode
function lm_shortcode($atts) {
    $atts = shortcode_atts(array(
        'height' =&gt; '700px',
    ), $atts);

    $id = 'lm-widget-' . uniqid();
    ob_start();
    ?&gt;
    &lt;div id="&lt;?php echo esc_attr($id); ?&gt;"
         style="width:100%; height:&lt;?php echo esc_attr($atts['height']); ?&gt;;"&gt;
    &lt;/div&gt;
    &lt;script&gt;
    document.addEventListener('DOMContentLoaded', function() {
        if (typeof ListingsMap === 'undefined') return;

        fetch('/wp-json/listings-map/v1/listings')
            .then(function(res) { return res.json(); })
            .then(function(data) {
                ListingsMap.init({
                    container: '#&lt;?php echo esc_js($id); ?&gt;',
                    listings: data,
                    currency: '\u20b1',
                    mapOptions: { center: [14.58, 121.05], zoom: 12 }
                });
            });
    });
    &lt;/script&gt;
    &lt;?php
    return ob_get_clean();
}
add_shortcode('listings_map', 'lm_shortcode');

// 3. REST API endpoint
function lm_register_api() {
    register_rest_route('listings-map/v1', '/listings', array(
        'methods'  =&gt; 'GET',
        'callback' =&gt; 'lm_get_listings',
        'permission_callback' =&gt; '__return_true',
    ));
}
add_action('rest_api_init', 'lm_register_api');

function lm_get_listings() {
    // Replace with your data source (custom post type, ACF, etc.)
    return array(
        array(
            'id'          =&gt; '1',
            'title'       =&gt; 'Apartment in Quezon City',
            'subtitle'    =&gt; 'Condo in Cubao | Sunset &amp; City Lights',
            'details'     =&gt; '1 bedroom &middot; 1 bed',
            'price'       =&gt; 13689,
            'pricePeriod' =&gt; 'for 5 nights',
            'rating'      =&gt; 5.0,
            'reviewCount' =&gt; 89,
            'badge'       =&gt; 'Guest favorite',
            'lat'         =&gt; 14.628,
            'lng'         =&gt; 121.055,
            'images'      =&gt; array(
                'https://example.com/photo1.jpg',
                'https://example.com/photo2.jpg',
            ),
        ),
    );
}</code></pre>
    </div>

    <p style="margin-top:16px">Then add the shortcode to any page or post:</p>
    <div class="code-block">
      <div class="code-block-header"><span>wordpress</span></div>
      <pre><code>[listings_map]

&lt;!-- With custom height --&gt;
[listings_map height="500px"]</code></pre>
    </div>

    <!-- Examples -->
    <hr />
    <h2 id="examples">More Examples</h2>

    <h3>Dynamic data loading</h3>
    <div class="code-block">
      <div class="code-block-header"><span>javascript</span></div>
      <pre><code>var widget = ListingsMap.init({
  container: '#app',
  listings: [],          // Start empty
  currency: '$',
  mapOptions: { center: [40.7, -74.0], zoom: 13 }
});

// Fetch from your API and update
fetch('/api/listings')
  .then(function(r) { return r.json(); })
  .then(function(data) {
    widget.setListings(data);
  });</code></pre>
    </div>

    <h3>Custom map tiles (Mapbox, Stadia, etc.)</h3>
    <div class="code-block">
      <div class="code-block-header"><span>javascript</span></div>
      <pre><code>ListingsMap.init({
  container: '#app',
  listings: myListings,
  tileUrl: 'https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token={accessToken}',
  tileAttribution: '&copy; Mapbox',
  mapOptions: { center: [51.505, -0.09], zoom: 13 }
});</code></pre>
    </div>

    <h3>Load-more on map pan</h3>
    <div class="code-block">
      <div class="code-block-header"><span>javascript</span></div>
      <pre><code>var widget = ListingsMap.init({
  container: '#app',
  listings: initialListings,
  currency: '&euro;',
  mapOptions: { center: [48.85, 2.35], zoom: 13 },
  onMapMoveEnd: function(bounds) {
    var url = '/api/listings?n=' + bounds.north
      + '&amp;s=' + bounds.south
      + '&amp;e=' + bounds.east
      + '&amp;w=' + bounds.west;

    fetch(url)
      .then(function(r) { return r.json(); })
      .then(function(data) {
        widget.setListings(data);
      });
  }
});</code></pre>
    </div>

    <h3>Using renderSearchSlot with a filter form</h3>
    <div class="code-block">
      <div class="code-block-header"><span>javascript</span></div>
      <pre><code>var widget = ListingsMap.init({
  container: '#app',
  listings: allListings,
  renderSearchSlot: function(containerEl) {
    var input = document.createElement('input');
    input.type = 'text';
    input.placeholder = 'Filter by title...';
    input.style.cssText = 'width:100%;padding:10px 16px;border:1px solid #ddd;border-radius:8px;font-size:14px;';
    input.addEventListener('input', function() {
      var q = input.value.toLowerCase();
      var filtered = allListings.filter(function(l) {
        return l.title.toLowerCase().indexOf(q) !== -1;
      });
      widget.setListings(filtered);
    });
    containerEl.appendChild(input);
  }
});</code></pre>
    </div>

    <!-- Footer -->
    <div class="footer">
      <span>ListingsMap v1.0.0</span>
      <a href="index.html">View Live Demo</a>
    </div>

  </main>
</div>
</body>
</html>
